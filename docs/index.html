<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
  <title>漢字手書きテスト</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <div>出題：<span id="problem" class="problem"></span></div>
      <div style="gap:.5rem; display:flex; align-items:center;">
        <select id="modePool">
          <option value="all">全問題</option>
          <option value="unanswered">未回答のみ</option>
          <option value="wrong">不正解のみ</option>
        </select>
        <select id="modeOrder">
          <option value="seq">順番</option>
          <option value="random">ランダム</option>
        </select>
        <input id="textno" placeholder="TextNo 例: G4-3-8" style="width:120px;">
        <button id="btnReload" class="btn">読み込み</button>
        <label>合格閾値 <input id="thresh" type="number" value="65" style="width:56px;">%</label>
      </div>
    </div>

    <div class="canvas-wrap">
      <!-- 下敷きを下、手書きを上に -->
      <canvas id="under" class="underlay" width="640" height="640"></canvas>
      <canvas id="draw"  width="640" height="640"></canvas>
    </div>

    <div class="controls" style="margin-top:.5rem; display:flex; gap:.5rem;">
      <button id="btnHint"  class="btn">下敷き表示</button>
      <button id="btnGrade" class="btn">採点</button>
      <button id="btnNext"  class="btn">次へ</button>
      <div id="scoreTxt">スコア: -</div>
      <div id="judge"></div>
    </div>
  </div>

  <!-- 依存順に注意。すべて ./js/ で、defer を付ける -->
  <script src="./js/pen.js" defer></script>
  <script src="./js/grade.js" defer></script>
  <script src="./js/storage.js" defer></script>
  <script src="./js/app.js" defer></script>
</body>
</html>
